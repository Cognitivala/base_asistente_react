{"version":3,"sources":["main.js"],"names":["window","document","mainHandlers","src","responsive","createIframe","div","createElement","ifrm","setAttribute","classList","add","appendChild","body","basicStylesSetUp","onmessage","e","data","test","undefined","mensaje","msg","styleIframe","responsiveFunc","classStyle","iframeClasslist","getElementById","remove","head","css","style","type","createTextNode","iframe","contentWindow","postMessage","styleIframeMessage","outerWidth","CognitiveAssistantMain","onresize","onready"],"mappings":";;;;;;;;AAAA,CAAC,UAASA,MAAT,EAAiBC,QAAjB,EAA2B;AAC1B;;AAD0B,MAEpBC,YAFoB;AAAA;AAAA;AAGxB,4BAAc;AAAA;AAAE;;AAHQ;AAAA;AAAA,2BAKnBC,GALmB,EAKd;AACR,aAAKA,GAAL,GAAWA,GAAX;AACA,aAAKC,UAAL,GAAkB,EAAlB;AACA,aAAKC,YAAL;AACD;AATuB;AAAA;AAAA,qCAWT;AAAA;;AACb,YAAIC,GAAG,GAAGL,QAAQ,CAACM,aAAT,CAAuB,KAAvB,CAAV;AAAA,YACEC,IAAI,GAAGP,QAAQ,CAACM,aAAT,CAAuB,QAAvB,CADT;AAGAC,QAAAA,IAAI,CAACC,YAAL,CAAkB,IAAlB,EAAwB,eAAxB;AACAD,QAAAA,IAAI,CAACE,SAAL,CAAeC,GAAf,CAAmB,sCAAnB;AACAH,QAAAA,IAAI,CAACE,SAAL,CAAeC,GAAf,CAAmB,QAAnB;AACAH,QAAAA,IAAI,CAACE,SAAL,CAAeC,GAAf,CAAmB,cAAnB;AACAH,QAAAA,IAAI,CAACC,YAAL,CAAkB,OAAlB,EAA2B,gBAA3B;AACAD,QAAAA,IAAI,CAACC,YAAL,CAAkB,OAAlB,EAA2B,eAA3B;AACAD,QAAAA,IAAI,CAACC,YAAL,CAAkB,KAAlB,EAAyB,KAAKN,GAA9B;AACAG,QAAAA,GAAG,CAACM,WAAJ,CAAgBJ,IAAhB;AACAP,QAAAA,QAAQ,CAACY,IAAT,CAAcD,WAAd,CAA0BN,GAA1B;AACA,aAAKQ,gBAAL;;AACAd,QAAAA,MAAM,CAACe,SAAP,GAAmB,UAAAC,CAAC,EAAI;AACtB,cAAIA,CAAC,CAACC,IAAF,CAAOC,IAAP,KAAgBC,SAApB,EAA+B;AAC7B,gBAAMC,OAAO,GAAGJ,CAAC,CAACC,IAAF,CAAOC,IAAP,CAAY,CAAZ,EAAeG,GAA/B;;AACA,YAAA,KAAI,CAACC,WAAL,CAAiBF,OAAjB;AACD,WAHD,MAGM,IAAGJ,CAAC,CAACC,IAAF,CAAOM,cAAP,KAA0BJ,SAA7B,EAAuC;AAC3C,YAAA,KAAI,CAACI,cAAL;AACD;AACF,SAPD;AAQD;AAjCuB;AAAA;AAAA,kCAmCZC,UAnCY,EAmCA;AACtB,YAAMC,eAAe,GAAGxB,QAAQ,CAACyB,cAAT,CAAwB,eAAxB,EACrBhB,SADH;;AAEA,gBAAQc,UAAR;AACE,eAAK,WAAL;AACEC,YAAAA,eAAe,CAACd,GAAhB,CAAoBa,UAApB;AACAC,YAAAA,eAAe,CAACE,MAAhB,CAAuB,cAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,UAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB;AACA;;AACF,eAAK,cAAL;AACEF,YAAAA,eAAe,CAACd,GAAhB,CAAoBa,UAApB;AACAC,YAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,UAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB;AACA;;AACF,eAAK,UAAL;AACEF,YAAAA,eAAe,CAACd,GAAhB,CAAoBa,UAApB;AACAC,YAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,cAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB;AACA;;AACF,eAAK,WAAL;AACEF,YAAAA,eAAe,CAACd,GAAhB,CAAoBa,UAApB;AACAC,YAAAA,eAAe,CAACE,MAAhB,CAAuB,WAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,cAAvB;AACAF,YAAAA,eAAe,CAACE,MAAhB,CAAuB,UAAvB;AACA;;AACF;AACE;AA1BJ;AA4BD;AAlEuB;AAAA;AAAA,yCAoEL;AACjB,YAAMC,IAAI,GAAG3B,QAAQ,CAAC2B,IAAtB;AACA,YAAIC,GAAG,GAAG,EAAV;AAAA,YACEC,KAAK,GAAG7B,QAAQ,CAACM,aAAT,CAAuB,OAAvB,CADV;AAGAsB,QAAAA,GAAG,IACD,qWADF;AAEAA,QAAAA,GAAG,IACD,+GADF;AAEAA,QAAAA,GAAG,IACD,uIADF;AAEAA,QAAAA,GAAG,IACD,uHADF;AAEAA,QAAAA,GAAG,IACD,uHADF;AAEAA,QAAAA,GAAG,IAAI,8DAAP;AACAA,QAAAA,GAAG,IACD,oLADF;AAEAA,QAAAA,GAAG,IACD,gGADF;AAEAA,QAAAA,GAAG,IACD,iIADF;AAGAC,QAAAA,KAAK,CAACC,IAAN,GAAa,UAAb;AAEAD,QAAAA,KAAK,CAAClB,WAAN,CAAkBX,QAAQ,CAAC+B,cAAT,CAAwBH,GAAxB,CAAlB;AACAD,QAAAA,IAAI,CAAChB,WAAL,CAAiBkB,KAAjB;AACD;AA/FuB;AAAA;AAAA,2CAiGH;AACnB,YAAMG,MAAM,GAAGhC,QAAQ,CAACyB,cAAT,CAAwB,eAAxB,CAAf;AACA,YAAMQ,aAAa,GAAGD,MAAM,GAACA,MAAM,CAACC,aAAR,GAAsB,IAAlD;;AACA,YAAIA,aAAJ,EAAmB;AACfA,UAAAA,aAAa,CAACC,WAAd,CAA0B;AAAE/B,YAAAA,UAAU,EAAE,KAAKA;AAAnB,WAA1B,EAA2D,GAA3D;AACH,SAFD,MAEO;AACH,eAAKgC,kBAAL;AACH;AACF;AAzGuB;AAAA;AAAA,uCA2GP;AACf,YAAIpC,MAAM,CAACqC,UAAP,IAAqB,GAAzB,EAA8B;AAC5B,cAAI,KAAKjC,UAAL,KAAoB,QAAxB,EAAkC;AAChC,iBAAKA,UAAL,GAAkB,QAAlB;AACA,iBAAKgC,kBAAL;AACD;AACF,SALD,MAKO;AACL,cAAI,KAAKhC,UAAL,KAAoB,SAAxB,EAAmC;AACjC,iBAAKA,UAAL,GAAkB,SAAlB;AACA,iBAAKgC,kBAAL;AACD;AACF;AACF;AAvHuB;;AAAA;AAAA;;AAyH1BpC,EAAAA,MAAM,CAACsC,sBAAP,GAAgC,IAAIpC,YAAJ,EAAhC;;AACAF,EAAAA,MAAM,CAACuC,QAAP,GAAkB,YAAM;AACtBvC,IAAAA,MAAM,CAACsC,sBAAP,CAA8Bf,cAA9B;AACD,GAFD;;AAIAtB,EAAAA,QAAQ,CAACuC,OAAT;AACD,CA/HD,EA+HGxC,MA/HH,EA+HWC,QA/HX","file":"main.js","sourcesContent":["(function(window, document) {\r\n  \"use strict\";\r\n  class mainHandlers {\r\n    constructor() {}\r\n\r\n    init(src) {\r\n      this.src = src;\r\n      this.responsive = \"\";\r\n      this.createIframe();\r\n    }\r\n\r\n    createIframe() {\r\n      var div = document.createElement(\"div\"),\r\n        ifrm = document.createElement(\"iframe\");\r\n\r\n      ifrm.setAttribute(\"id\", \"ifrm-assitant\");\r\n      ifrm.classList.add(\"iframe-cognitive-assistant-container\");\r\n      ifrm.classList.add(\"active\");\r\n      ifrm.classList.add(\"notification\");\r\n      ifrm.setAttribute(\"allow\", \"geolocation *;\");\r\n      ifrm.setAttribute(\"allow\", \"microphone *;\");\r\n      ifrm.setAttribute(\"src\", this.src);\r\n      div.appendChild(ifrm);\r\n      document.body.appendChild(div);\r\n      this.basicStylesSetUp();\r\n      window.onmessage = e => {\r\n        if (e.data.test !== undefined) {\r\n          const mensaje = e.data.test[0].msg;\r\n          this.styleIframe(mensaje);\r\n        }else if(e.data.responsiveFunc !== undefined){\r\n          this.responsiveFunc();\r\n        }\r\n      };\r\n    }\r\n\r\n    styleIframe(classStyle) {\r\n      const iframeClasslist = document.getElementById(\"ifrm-assitant\")\r\n        .classList;\r\n      switch (classStyle) {\r\n        case \"assistant\":\r\n          iframeClasslist.add(classStyle);\r\n          iframeClasslist.remove(\"notification\");\r\n          iframeClasslist.remove(\"launcher\");\r\n          iframeClasslist.remove(\"minimized\");\r\n          break;\r\n        case \"notification\":\r\n          iframeClasslist.add(classStyle);\r\n          iframeClasslist.remove(\"assistant\");\r\n          iframeClasslist.remove(\"launcher\");\r\n          iframeClasslist.remove(\"minimized\");\r\n          break;\r\n        case \"launcher\":\r\n          iframeClasslist.add(classStyle);\r\n          iframeClasslist.remove(\"assistant\");\r\n          iframeClasslist.remove(\"notification\");\r\n          iframeClasslist.remove(\"minimized\");\r\n          break;\r\n        case \"minimized\":\r\n          iframeClasslist.add(classStyle);\r\n          iframeClasslist.remove(\"assistant\");\r\n          iframeClasslist.remove(\"notification\");\r\n          iframeClasslist.remove(\"launcher\");\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    basicStylesSetUp() {\r\n      const head = document.head;\r\n      let css = \"\",\r\n        style = document.createElement(\"style\");\r\n\r\n      css +=\r\n        \".iframe-cognitive-assistant-container {overflow: hidden;border: none;position: fixed;bottom: 10px;right: 10px;background-color: transparent;opacity: 0;transform: translate3d(0,100%,0);transition: transform opacity height 350ms ease;pointer-events: none;transition-timing-function: cubic-bezier(0.56, 1.19, 0.2, 1.05);z-index: 99999999;border-radius: 5px;}\";\r\n      css +=\r\n        \".iframe-cognitive-assistant-container.active {opacity: 1;transform: translate3d(0,0,0);pointer-events: auto;}\";\r\n      css +=\r\n        \".iframe-cognitive-assistant-container.notification{ height: 100px;width: 100%;max-width: 100px;box-shadow: none;right: 0;bottom: 0; }\";\r\n      css +=\r\n        \".iframe-cognitive-assistant-container.assistant{ height: 100vh;width: 100%;max-width: 401px;right: 0px;bottom: 0px; }\";\r\n      css +=\r\n        \".iframe-cognitive-assistant-container.minimized{ height: 100px;width: 100%;max-width: 100px;right: 10px;bottom: 0px;}\";\r\n      css += \".cognitive-iframe {height: 100%;width: 100%;border: 0 none;}\";\r\n      css +=\r\n        \"@media screen and (max-width: 767px){ .iframe-cognitive-assistant-container.assistant{ border-radius: 0px; height: 100% ; top: 0; left: 0; right: 0; bottom: 0; max-width:100%; } \";\r\n      css +=\r\n        \".iframe-cognitive-assistant-container.minimized{max-width: none; bottom:0; left:0; right:0;} }\";\r\n      css +=\r\n        \"@media screen and (min-width: 1000px) and (max-width: 1200px){ .iframe-cognitive-assistant-container.assistant{ width: 45% }  }\";\r\n\r\n      style.type = \"text/css\";\r\n\r\n      style.appendChild(document.createTextNode(css));\r\n      head.appendChild(style);\r\n    }\r\n\r\n    styleIframeMessage() {\r\n      const iframe = document.getElementById(\"ifrm-assitant\");\r\n      const contentWindow = iframe?iframe.contentWindow:null;\r\n      if (contentWindow) {\r\n          contentWindow.postMessage({ responsive: this.responsive }, \"*\");\r\n      } else {\r\n          this.styleIframeMessage();\r\n      }\r\n    }\r\n\r\n    responsiveFunc() {\r\n      if (window.outerWidth <= 767) {\r\n        if (this.responsive !== \"mobile\") {\r\n          this.responsive = \"mobile\";\r\n          this.styleIframeMessage();\r\n        }\r\n      } else {\r\n        if (this.responsive !== \"desktop\") {\r\n          this.responsive = \"desktop\";\r\n          this.styleIframeMessage();\r\n        }\r\n      }\r\n    }\r\n  }\r\n  window.CognitiveAssistantMain = new mainHandlers();\r\n  window.onresize = () => {\r\n    window.CognitiveAssistantMain.responsiveFunc();\r\n  };\r\n  \r\n  document.onready;\r\n})(window, document);\r\n"]}