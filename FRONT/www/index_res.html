
<html lang="es-CL" dir="ltr" xmlns:og="http://opengraphprotocol.org/schema/" xmlns:fb="http://ogp.me/ns/fb#" heightfull="heightfull">
  <head>
    <title>Configurar Asistente. MAD Cognitiva</title>
    <meta charset="UTF-8"/>
    <link rel="profile" href="http://gmpg.org/xfn/11"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <link rel="apple-touch-icon" sizes="57x57" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-57x57.png"/>
    <link rel="apple-touch-icon" sizes="60x60" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-60x60.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="76x76" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-76x76.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-114x114.png"/>
    <link rel="apple-touch-icon" sizes="120x120" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-120x120.png"/>
    <link rel="apple-touch-icon" sizes="144x144" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-144x144.png"/>
    <link rel="apple-touch-icon" sizes="152x152" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-152x152.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="http://asistente-react.mycognitiva.io/assets/img/favicon/apple-icon-180x180.png"/>
    <link rel="icon" type="image/png" sizes="192x192" href="http://asistente-react.mycognitiva.io/assets/img/favicon/android-icon-192x192.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="http://asistente-react.mycognitiva.io/assets/img/favicon/favicon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="96x96" href="http://asistente-react.mycognitiva.io/assets/img/favicon/favicon-96x96.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="http://asistente-react.mycognitiva.io/assets/img/favicon/favicon-16x16.png"/>
    <link rel="manifest" href="http://asistente-react.mycognitiva.io/assets/img/favicon/manifest.json"/>
    <meta name="msapplication-TileColor" content="#000000"/>
    <meta name="msapplication-TileImage" content="http://asistente-react.mycognitiva.io/assets/img/favicon/ms-icon-144x144.png"/>
    <meta name="theme-color" content="#000000"/>
    <meta name="_csrf" content=""/>
    <meta name="insight-app-sec-validation" content="4d0a31e7-ca78-40a0-b0dd-a0b8415541e4"/>
    <meta name="apptrana" content="37adefb730ca40ca9d12cb9e55ed2ca3"/>
    <link href="http://asistente-react.mycognitiva.io/assets/css/main.css" rel="stylesheet"/>
    <link href="http://asistente-react.mycognitiva.io/assets/img/favicon/favicon-32x32.png" rel="Shortcut Icon"/><!--[if lt IE 9]><script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script><script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
  </head>
  <body class="no-scroll home" heightfull="heightfull">
    <div id="wrapper" heightfull="heightfull">
      <div class="f-row" heightfull="heightfull">
        <div class="f-col menu" heightfull="heightfull" padding="padding">
          <div class="header">
            <div class="f-row align-center">
              <div class="f-col cognitiva-logo"><img src="http://asistente-react.mycognitiva.io/assets/img/cognitiva-logo.png" alt=""/></div>
            </div>
          </div>
          <ul class="menu" id="mainmenu">
            <li><a href="http://asistente-react.mycognitiva.io/"><i class="fa fa-cog" aria-hidden="true"></i>Configurar Asistente</a></li>
            <li><a href="http://asistente-react.mycognitiva.io/personalizar/"><i class="fa fa-paint-brush" aria-hidden="true"></i>Personalizar Asistente</a></li>
            <li><a href="http://asistente-react.mycognitiva.io/indicadores/"><i class="fa fa-bar-chart" aria-hidden="true"></i>Indicadores</a>
              <ul class="sub-menu">
                <li><a href="http://asistente-react.mycognitiva.io/indicadores/interacciones/"><i class="fa fa-caret-right" aria-hidden="true"></i>Interacciones</a></li>
                <li><a href="http://asistente-react.mycognitiva.io/indicadores/valoraciones/"><i class="fa fa-caret-right" aria-hidden="true"></i>Valoraciones</a></li>
                <li><a href="http://asistente-react.mycognitiva.io/indicadores/tmo/"><i class="fa fa-caret-right" aria-hidden="true"></i>TMO</a></li>
                <li><a href="http://asistente-react.mycognitiva.io/indicadores/origen/"><i class="fa fa-caret-right" aria-hidden="true"></i>Origen</a></li>
                <li><a href="http://asistente-react.mycognitiva.io/indicadores/nps/"><i class="fa fa-caret-right" aria-hidden="true"></i>NPS</a></li>
              </ul>
            </li>
            <li id="admin-users-btn"><a href="http://asistente-react.mycognitiva.io/administrador-usuarios/"><i class="fa fa-users" aria-hidden="true"></i>Administrador Usuarios</a></li>
            <li><a class="get-code" href="#;" onclick="openScript()"><i class="fa fa-code" aria-hidden="true"></i>Obtener código</a></li>
          </ul>
        </div>
        <div class="f-col content relative-position" padding="padding" heightfull="heightfull">
          <div class="spinner">
            <div class="loader"></div>
          </div>
          <div class="row">
            <div class="col-md-12 content-header">
              <div class="mad-cognitiva">
                <h5>Mantenedor Asistente Digital / <span></span></h5>
              </div>
              <button class="user" button="button" onclick="closeSession()">
                <div id="user">Hola, <span>Ernesto</span></div><i class="fa fa-hand-peace-o"></i>
              </button>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <div class="container-tabs">
                <div class="test"><a href="#;" onclick="openModalTest()">Probar asistente<i class="fa fa-commenting" aria-hidden="true"></i></a><a href="#;" onclick="openDemo(event)">Demo<i class="fa fa-rocket" aria-hidden="true"></i></a></div>
                <ul class="nav nav-tabs" id="tabs" role="tablist">
                  <li class="active" role="presentation"><a href="#" data-func="toggleTabs" data-index="0"><span>Intenciones</span></a></li>
                  <li role="presentation"><a href="#" data-func="toggleTabs" data-index="1"><span>Entidades</span></a></li>
                  <li role="presentation"><a href="#" data-func="toggleTabs" data-index="2"><span>Diálogo</span></a></li>
                  <li role="presentation"><a href="#" data-func="toggleTabs" data-index="3"><span>URL</span></a></li>
                </ul>
                <div class="tab-content">
                  <div class="tab-pane fade in active" id="intents" role="tabpanel" data-tab-target="0">
                    <button id="new-intent" button="button" button-mini="button-mini" margin-bottom="margin-bottom" onclick="openCustomModal(this, '#modal-intent', false, 'create_intent')">Añadir intención <i class="fa fa-plus-circle" aria-hidden="true"></i></button>
                    <ul class="list-intents" id="list-intents"></ul>
                    <div class="container-modal" id="modal-intent">
                      <div class="container-form">
                        <div class="form" data-validate="async" data-func-validate="saveIntent" novalidate="novalidate">
                          <fieldset class="hash" id="fieldset-intent">
                            <label>Nombre de intención</label><span>#</span>
                            <input id="name-intent" type="text" placeholder="Escribe el nombre de la intención" required="required"/><a class="button-add add-intent" href="#;" onclick="addFieldset(this, 'Ejemplo de intención', 'Escribe el ejemplo de la intención')">Añadir ejemplo <i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                          </fieldset>
                          <div class="buttons">
                            <button class="pull-left" id="save-intent" button="button">Guardar</button>
                            <button class="pull-right" button="button" close="close" onclick="closeCustomModal('#modal-intent'); clearIntent('#name-intent', '#modal-intent')">Cerrar</button>
                          </div>
                        </div>
                      </div>
                      <div class="backdrop-modal"></div>
                    </div>
                    <div class="container-modal" id="modal-intent-edit">
                      <div class="container-form">
                        <form data-validate="async" data-func-validate="editIntent" novalidate="novalidate">
                          <fieldset class="hash" id="fieldset-intent-edit">
                            <label>Nombre de intención</label><span>#</span>
                            <input id="name-intent-edit" type="text" placeholder="Escribe el nombre de la intención" required="required" readOnly="readOnly"/><a class="button-add add-intent" href="#;" onclick="addFieldset(this, 'Ejemplo de intención', 'Escribe el ejemplo de la intención')">Añadir ejemplo <i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                          </fieldset>
                          <div class="buttons">
                            <button class="pull-left" id="save-intent" button="button" type="submit">Guardar</button>
                            <button class="pull-right" button="button" close="close" onclick="closeCustomModal('#modal-intent-edit'); clearIntent('#name-intent', '#modal-intent-edit')" type="button">Cerrar</button>
                          </div>
                        </form>
                      </div>
                      <div class="backdrop-modal"></div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="entities" role="tabpanel" data-tab-target="1">
                    <button id="new-entitie" button="button" button-mini="button-mini" margin-bottom="margin-bottom" onclick="openCustomModal(this, '#modal-entities', false, 'create_entity')">Añadir entidad <i class="fa fa-plus-circle" aria-hidden="true"></i></button>
                    <ul class="list-intents" id="list-entities"></ul>
                    <div class="container-modal" id="modal-entities">
                      <div class="container-form">
                        <div class="form" data-validate="async" data-func-validate="saveEntitie" novalidate="novalidate">
                          <fieldset class="hash" id="fieldset-entity">
                            <label>Nombre de entidad</label><span>@</span>
                            <input id="name-entity" type="text" placeholder="Escribe el nombre de la entidad" required="required"/><a class="button-add add-intent" href="#;" onclick="addFieldset(this, 'Sinónimo de la entidad', 'Escribe sinónimos de la entidad')">Añadir sinónimo/s <i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                          </fieldset>
                          <div class="buttons">
                            <button class="pull-left" id="save-intent" button="button">Guardar</button>
                            <button class="pull-right" button="button" close="close" onclick="closeCustomModal('#modal-entities'); clearIntent('#name-entity', '#modal-entities')">Cerrar  </button>
                          </div>
                        </div>
                      </div>
                      <div class="backdrop-modal"></div>
                    </div>
                    <div class="container-modal" id="modal-entities-edit">
                      <div class="container-form">
                        <div class="form" data-validate="async" data-func-validate="editEntity" novalidate="novalidate">
                          <fieldset class="hash" id="fieldset-entity-edit">
                            <label>Nombre de entidad</label><span>@</span>
                            <input id="name-entity-edit" type="text" placeholder="Escribe el nombre de la entidad" required="required" readOnly="readOnly"/><a class="button-add add-intent" href="#;" onclick="addFieldset(this, 'Sinónimo de la entidad', 'Escribe sinónimos de la entidad')">Añadir sinónimo/s <i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                          </fieldset>
                          <div class="buttons">
                            <button class="pull-left" id="save-intent" button="button">Guardar</button>
                            <button class="pull-right" button="button" type="button" close="close" onclick="closeCustomModal('#modal-entities-edit'); clearIntent('#name-entity-edit', '#modal-entities-edit')">Cerrar  </button>
                          </div>
                        </div>
                      </div>
                      <div class="backdrop-modal"></div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="dialog" role="tabpanel" data-tab-target="2">
                    <button id="new-dialog" button="button" button-mini="button-mini" margin-bottom="margin-bottom" onclick="openCustomModal(this, '#modal-dialog', false, 'create_dialog')">Añadir diálogo <i class="fa fa-plus-circle" aria-hidden="true"></i></button>
                    <ul class="list-intents" id="list-dialogs"></ul>
                    <div class="container-modal" id="modal-dialog">
                      <div class="container-form">
                        <div class="form" data-validate="async" data-func-validate="saveDialog" novalidate="novalidate">
                          <fieldset>
                            <label>Nombre de diálogo</label>
                            <input class="input-upper" id="name-dialog" type="text" placeholder="Escribe el nombre de la entidad" required="required"/><a class="button-add" href="#;" onclick="addDialogOption(this)">Añadir respuesta<i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                            <div id="responds" margin-top="margin-top">
                              <h6>Respuestas</h6>
                              <ul id="list-dialogs-respond"></ul>
                            </div>
                          </fieldset>
                          <div class="buttons">
                            <button class="pull-right" button="button" type="button" close="close" onclick="closeCustomModal('#modal-dialog'); clearIntent('#name-dialog', '#modal-dialog')">Cerrar</button>
                          </div>
                        </div>
                      </div>
                      <div class="backdrop-modal"></div>
                    </div>
                    <div class="container-modal" id="modal-dialog-edit">
                      <div class="container-form">
                        <div class="form" data-validate="async" data-func-validate="editDialog" novalidate="novalidate">
                          <fieldset>
                            <label>Nombre de diálogo</label>
                            <input class="input-upper" id="name-dialog-edit" type="text" placeholder="Escribe el nombre de la entidad" required="required"/><a class="button-add edit-button" href="#;" onclick="addDialogOption(this)">Añadir respuesta<i class="fa fa-plus-circle" aria-hidden="true"></i></a>
                            <div class="responds" id="responds-edit" margin-top="margin-top">
                              <h6>Respuestas</h6>
                              <ul class="list-dialogs-respond" id="list-dialogs-respond-edit"></ul>
                            </div>
                          </fieldset>
                          <div class="buttons">
                            <button class="pull-left" id="save-dialog-btn" button="button">Guardar</button>
                            <button class="pull-right" button="button" type="button" close="close" onclick="closeCustomModal('#modal-dialog-edit'); clearIntent('#name-dialog-edit', '#modal-dialog-edit')">Cerrar</button>
                          </div>
                        </div>
                      </div>
                      <div class="backdrop-modal"></div>
                    </div>
                    <div class="modal fade" id="myModalChoiceDialog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button class="close" type="button" data-dismiss="modal" aria-label="Close" onclick="removeData()"><i class="fa fa-close"></i></button>
                            <h6 class="modal-title"></h6>
                          </div>
                          <div class="modal-body"></div>
                          <div class="modal-footer">
                            <button class="pull-left" type="button" data-dismiss="modal" button="button" data-func="confirmDeleteDialog">Aceptar</button>
                            <button class="pull-right" type="button" data-dismiss="modal" button="button" close="close" onclick="removeData()">Cancelar</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="url" role="tabpanel" data-tab-target="3">
                    <form id="form-url">
                      <fieldset>
                        <label>Ingresa la url del sitio en donde estará el asistente</label>
                        <input id="get-url" type="url" pattern="https?://.+" placeholder="Ej. https://www.google.cl" required="required"/>
                      </fieldset>
                      <button id="save-url" button="button" onclick="saveUrl()">Guardar</button>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close"><i class="fa fa-close"></i></button>
            <h6 class="modal-title"></h6>
          </div>
          <div class="modal-body"></div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModalChoice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close" onclick="removeData()"><i class="fa fa-close"></i></button>
            <h6 class="modal-title"></h6>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button class="pull-left" id="choice" type="button" data-dismiss="modal" button="button" data-func="confirmDeleteIntent">Aceptar</button>
            <button class="pull-right" type="button" data-dismiss="modal" button="button" close="close" onclick="removeData()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModalChoiceEntity" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close" onclick="removeData()"><i class="fa fa-close"></i></button>
            <h6 class="modal-title"></h6>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button class="pull-left" id="choice" type="button" data-dismiss="modal" button="button" data-func="confirmDeleteEntity">Aceptar</button>
            <button class="pull-right" type="button" data-dismiss="modal" button="button" close="close" onclick="removeData()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModalExamples" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close" onclick="removeData()"><i class="fa fa-close"></i></button>
            <h6 class="modal-title"></h6>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button class="pull-left" id="confirm-delete-button" type="button" data-dismiss="modal" button="button" onclick="clickButton()">Aceptar</button>
            <button class="pull-right" type="button" data-dismiss="modal" button="button" close="close" onclick="removeData()">Cancelar</button>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModalAssistant" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close"><i class="fa fa-close"></i></button>
          </div>
          <div class="modal-body heightfull">
            <div class="header">
              <div class="img"><img id="header-logotipo" src="../assets/img/brain_cognitiva.png" alt=""/></div>
              <div class="titles">
                <div>Asistente Cognitivo</div><span>Cognitiva</span>
              </div>
              <div class="close"><i class="fa fa-times"></i></div>
            </div>
            <iframe class="assistant" id="assistant-iframe" src="http://asistente-react.mycognitiva.ioasistente/" frameborder="0"></iframe>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade" id="myModalScript" tabindex="-1" role="dialog" aria-labelledby="myModalScriptLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-label="Close"><i class="fa fa-close"></i></button>
            <h6 class="modal-title">Copia y pega el siguiente código en tu web. Después de <span class="code"><span>&lt;</span>head<span>&gt;</span></span> y antes de <span class="code"><span>&lt;/</span>head<span>&gt;</span></span></h6>
          </div>
          <div class="modal-body">
            <pre text-left="text-left"></pre>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="../assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../assets/js/main.js"></script>
    <script type="text/javascript" src="../assets/js/main.mad.js"></script>
    <script>
      var getModalBool = false;
      var getService = '';
      var getNameIntent = '';
      var makeListIntent = '';
      var getMakeListIntent = '';
      var funcGetIntent = '';
      var funcOpenModal = '';
      var stringObj = '';
      var tree = '';
      var treeBranch = '';
      var nameObj = '';
      var getAllNames = [];
      var getSession = sessionStorage.getItem('user_id');
      
      function openDemo(e){
        var screenW   = this.outerWidth;
        var screenH   = this.outerHeight;
        var getSize   = '"width='+outerWidth+',height='+outerHeight+'"'; 
        window.open("/demo/", "_blank", getSize);
        e.preventDefault();
      }
      
      function spinnerOut(parent, bool){
        if(bool == true) {
          $(parent+' .spinner').fadeIn(300);
        } else {
          $(parent+' .spinner').fadeOut(300);
        }
      }
      
      function getAllIntents(){
        var req = new XMLHttpRequest();
        var form = new FormData();
        form.append("id_cliente", getSession);
        req.open("POST", getPath+"mant/list_intents", false); 
        req.send(form);
        if (req.status == 200) {
          var response = JSON.parse(req.responseText);
          var makeListIntent = '';
          var funcRemoveItem = "'delete_intent'";
          for(var i = 0; i < response.intents.length; i++) {
            var theIntent = "'"+response.intents[i].intent+"'";
            makeListIntent = '<li>';
            makeListIntent += '<div>';
            makeListIntent += '<a href="#;" onclick="getIntentExamples(this,'+theIntent+')">';
            makeListIntent += '<i class="fa fa-angle-right" aria-hidden="true"></i>';
            makeListIntent += '<h5>#'+response.intents[i].intent+'</h5>';
            makeListIntent += '</a>';
            //- makeListIntent += '<a href="#;" onclick="removeItem(this,'+funcRemoveItem+')"><i class="fa fa-trash"></i></a>';
            makeListIntent += '<a href="#;" onclick="deleteIntent(event)"><i class="fa fa-trash"></i></a>';
            makeListIntent += '</div>';
            makeListIntent += '</li>';
            $('#list-intents').append(makeListIntent);
          }
          spinnerOut('#intents', false);
        } else {
          spinnerOut('#intents', false);
          openModal('#myModal', 'Auch!', 'Tenemos un problema, favor intenta nuevamente', 'error');
        }
      }
      
      function deleteIntent(event){
        event.preventDefault();
        var $item = $(event.currentTarget);
        
        $('[data-todelete]').removeAttr('data-todelete');
        $item.parent().parent().attr('data-todelete', '1');
        openModal('#myModalChoice', 'Advertencia', '¿Estás seguro que deseas remover este item?', '');
      }
      
      function getIntentExamples(el, intent){
        if(!el.classList.contains('examples')){
          var req = new XMLHttpRequest();
          var form = new FormData();
      
          var makeListIntent, getMakeListIntent = '';
          var funcGetIntent = "getIntent(this, '#modal-intent', '#name-intent', 'fieldset-intent')";
          var funcOpenModal = "openCustomModal(this,'#modal-intent', true, 'edit_intent')";
          var getService = 'edit_intent';
          form.append("id_cliente", getSession);
          form.append("intent", intent);
          req.open("POST", getPath+"mant/list_examples", false); 
          req.send(form);
          if (req.status == 200) {
            var response = JSON.parse(req.responseText);
            if(response.examples.length > 0){
              for(var i = 0; i < response.examples.length; i++){
                getMakeListIntent += '<li>';
                getMakeListIntent += '<label>';
                getMakeListIntent += '<div class="checkbox"><input type="checkbox"/><span></span></div>';
                getMakeListIntent += '<span>'+response.examples[i].text+'</span>';
                getMakeListIntent += '</label>';
                getMakeListIntent += '</li>';
              }
              makeListIntent = '<ul>';
              makeListIntent += '<li class="options">';
              makeListIntent += '<button button="button" button-mini="button-mini" secondary="secondary" onclick="'+funcGetIntent+'; '+funcOpenModal+'">Editar / Añadir ejemplo<i class="fa fa-plus-circle" aria-hidden="true"></i></button>';
              makeListIntent += '<a href="#;" onclick="deleteExamples(this,';
              makeListIntent += "'"+getService+"'";
              makeListIntent += ')"><i class="fa fa-trash"></i></a>';
              makeListIntent += '</li>';
              makeListIntent += getMakeListIntent;
              makeListIntent += '</ul>';
      
              el.parentElement.parentElement.insertAdjacentHTML( 'beforeend', makeListIntent );
              el.classList.add('examples');
            }
          } else {
            spinnerOut('#intents', false);
            openModal('#myModal', 'Auch!', 'Tenemos un problema, favor intenta nuevamente', 'error');
          }
        }
        myClick(el);
        getExamplesNum();
      }
      
      function getAllEntities(){
        getService = 'edit_entity';
        var req = new XMLHttpRequest();
        var form = new FormData();
        form.append("ws_id", sessionStorage.getItem('uws'));
        form.append("cv_user", sessionStorage.getItem('usr'));
        form.append("cv_pass", sessionStorage.getItem('usp'));
        req.open('POST', getPath+'mant/list_entities', false); 
        req.send(form);
        if (req.status == 200 && JSON.parse(req.responseText).data.length > 0) {
          var response = JSON.parse(req.responseText);
          for(var i = 0; i < response.data.length; i++){
            getAllNames.push('@'+response.data[i].intents.entity.entity);
            getMakeListIntent = '';
            funcGetIntent = "getIntent(this, '#modal-entities', '#name-entity', 'fieldset-entity')";
            funcOpenModal = "openCustomModal(this,'#modal-entities', true, 'edit_entity')";
            funcRemoveItem = "'delete_entity'";
            for(var j = 0; j < response.data[i].intents.values.length; j++){
              getMakeListIntent += '<li>';
              getMakeListIntent += '<label>';
              getMakeListIntent += '<div class="checkbox"><input type="checkbox"/><span></span></div>';
              getMakeListIntent += '<span>'+response.data[i].intents.values[j].value+'</span>';
              getMakeListIntent += '</label>';
              getMakeListIntent += '</li>';
            }
            makeListIntent = '<li>';
            makeListIntent += '<div>';
            makeListIntent += '<a href="#;" onclick="myClick(this)">';
            makeListIntent += '<i class="fa fa-angle-right" aria-hidden="true"></i>';
            makeListIntent += '<h5>@'+response.data[i].intents.entity.entity+'</h5>';
            makeListIntent += '</a>';
            makeListIntent += '<a href="#;" onclick="removeItem(this, '+funcRemoveItem+')"><i class="fa fa-trash"></i></a>';
            makeListIntent += '</div>';
            makeListIntent += '<ul>';
            makeListIntent += '<li class="options">';
            makeListIntent += '<button button="button" button-mini="button-mini" secondary="secondary" onclick="'+funcGetIntent+'; '+funcOpenModal+'">Editar / Añadir ejemplo<i class="fa fa-plus-circle" aria-hidden="true"></i></button>';
            makeListIntent += '<a href="#;" onclick="deleteExamples(this,';
            makeListIntent += "'"+getService+"'";
            makeListIntent += ')"><i class="fa fa-trash"></i></a>';
            makeListIntent += '</li>';
            makeListIntent += getMakeListIntent;
            makeListIntent += '</ul>';
            makeListIntent += '</li>';
            $('#list-entities').append(makeListIntent);
          }
          getExamplesNum();
          spinnerOut('#entities');
        } else {
          spinnerOut('#entities');
        }
      }
      
      function openCustomModal(el, modal, bool, service) {
        if(modal == '#modal-dialog' || modal == '#modal-dialog-edit'){
          var options = '';
          var select = modal == '#modal-dialog' ? $(modal).find('#condition') : $(modal).find('#condition-edit');
          options = '<option selected value="">Seleccione</option>'
          for(var i = 0; i < window.dataConditions.length; i++){
            options += '<option value="'+ window.dataConditions[i] +'">'+ window.dataConditions[i] +'</option>';
          }
          select.html(options);
        }
        getService = service;
        $(modal).fadeIn(200);
        $(modal).delay(200).find('.container-form').addClass('active');
        $(modal).find('.buttons, form').fadeIn(200);
        getModalBool = bool;
        if(bool == true){
          el.parentElement.parentElement.parentElement.className = 'to-replace';
        }
      }
      
      function closeCustomModal(modal){
        $(modal).find('.container-form').removeClass('active');
        $(modal).delay(200).fadeOut(200);
        $(modal).find('.buttons, form').fadeOut(50);
        $(modal).removeClass('error');
        $(modal).removeClass('success');
      }
      
      $('button.close').click(function(){
        $(this).parent().parent().parent().parent().delay(500).removeClass('error, success');
      });
      
      function getIntent(el, modal, input, fieldset) {
        var arrList = [];
        var getH5 = el.parentElement.parentElement.parentElement.children[0].children[0].children[1].textContent.substring(1);
        var getLengthExamples = el.parentElement.parentElement.children.length;
      
        for(var i = 0; i < getLengthExamples; i++){
          if(i != 0){
            var getVal = el.parentElement.parentElement.children[i].children[0].children[1].innerText;
            arrList.push(getVal);
          }
        }
        
        $(modal).find(input).val(getH5);
        $(modal).find('form').attr('data-type', 'edit');
      
        var getTest = document.getElementById(fieldset);
        var getLabelText = document.getElementById(fieldset).children[3].children[0].innerHTML;
        var getPlaceholder = document.getElementById(fieldset).children[2].attributes[2].textContent;
        for(var i = 0; i < arrList.length; i++){
          var where = document.getElementById(fieldset);        
          var subfieldset = '<fieldset class="wrapper-intent">';
              subfieldset += '<label>'+getLabelText+'</label>';
              subfieldset += '<input class="example-intent" type="text" value="'+arrList[i]+'" placeholder="'+getPlaceholder+'" required="required"/>';
              subfieldset += '<a class="add-intent delete" href="#;" onclick="removeFieldset(this)">';
              subfieldset += '<i class="fa fa-times-circle" aria-hidden="true"></i>';
              subfieldset += '</a>';
              subfieldset += '</fieldset>';
          where.insertAdjacentHTML('beforeend', subfieldset);
        }
      }
      
      function getExamplesNum(){
        $('ul.list-intents > li').each(function(){
          var num = '';
          if($(this).parent().is("#list-dialogs")){
            var num = $(this).find('ul li').length;
          } else {
            var num = $(this).find('ul li').length - 1 ;
          }
        });
      }
      getExamplesNum();
      
      function myClick(el){
        var myUl = el.parentElement.parentElement.children[1];
        var myIcon = el.children[0];
        myIcon.classList.toggle("fa-rotate-90");
        if(myUl.style.height == 0 || myUl.style.height == '0px'){
          myUl.style.height = "auto";
        } else {
          myUl.style.height = 0;
        }
      }
      
      function clearIntent(name, modal){
        var getContRespond  = document.getElementById('responds');
        getContRespond.style.display = "none";
        $('#list-dialogs-respond').empty();
        $(name).val('');
        var getEl = document.querySelectorAll(modal+' .example-intent').length;
        getEl = getEl - 1;
        for(var i = getEl; i >= 0; i--){
          $(modal+' .example-intent')[i].parentElement.remove();
        }
        return false;
      }
      
      function addFieldset(el, label, placeholder){
        var where = el.parentElement;
        var subfieldset = '<fieldset class="wrapper-intent">';
            subfieldset += '<label>'+label+'</label>';
            subfieldset += '<input class="example-intent" type="text" placeholder="'+placeholder+'" required="required"/>';
            subfieldset += '<a class="add-intent delete" href="#;" onclick="removeFieldset(this)">';
            subfieldset += '<i class="fa fa-times-circle" aria-hidden="true"></i>';
            subfieldset += '</a>';
            subfieldset += '</fieldset>';
        where.insertAdjacentHTML('beforeend', subfieldset);
      }
      
      function removeFieldset(el){
        el.parentElement.remove();
      }
      
      function removeItem(el, service){
        getService = service;
        el.parentElement.parentElement.setAttribute('data-todelete', '1');
        openModal('#myModalChoice', 'Advertencia', '¿Estás seguro que deseas remover este item?', '');
      }
      
      function confirmDelete(){
        getNameIntent = $('[data-todelete] h5').text().substring(1);
        var getDataAttr = document.querySelectorAll('[data-todelete]');
        switch (getService) {
          case 'delete_intent':
            tree = 'intent';
            treeBranch = 'examples';
            nameObj = "'text'";
            break;
          case 'delete_entity':
            tree = 'entity';
            treeBranch = 'new_values';
            nameObj = "'value'";
        }
        var req = new XMLHttpRequest();
        var form = new FormData();
        form.append(tree, getNameIntent);
        form.append("ws_id", sessionStorage.getItem('uws'));
        form.append("cv_user", sessionStorage.getItem('usr'));
        form.append("cv_pass", sessionStorage.getItem('usp'));
        req.open('POST', getPath+"mant/"+getService, false); 
        req.send(form);
        if (req.status == 200) {
          var response = JSON.parse(req.responseText);
          var msg = '';
          if(getService == 'delete_intent'){
            $('#list-intents').empty();
            msg = 'La intención se ha eliminado con éxito'
          } else {
            $('#list-entities').empty();
            msg = 'La entidad se ha eliminado con éxito'
          }
          openModal('#myModal', 'Genial!', msg, 'success');
        } else {
          openModal('#myModal', 'Auch!', 'Tenemos un problema, favor intenta nuevamente', 'error');
        }
        $('[data-todelete]').remove();
      }
      
      function removeData(){
        $('[data-todelete]').removeAttr('data-todelete');
      }
      
      function deleteExamples(el, service){
        var getChildren = el.parentElement.parentElement.children;
        var getParent = el.parentElement.parentElement.parentElement.parentElement.id;
        if(getParent == 'list-intents'){
          getService = 'edit_intent';
        } else if(getParent == 'list-entities'){
          getService = 'edit_entity';
        } else {
          getService = 'edit_dialog';
        }
        var count = 0;
        for(var i=0; i<getChildren.length; i++){
          if(i != 0) {
            getCheckBox = getChildren[i].children[0].children[0].children[0];
            if(getCheckBox.checked) {
              count = count + 1;
            }
          }
        }
        if(count > 0){
          el.parentElement.parentElement.className = 'delete-examples-tmp';
          openModal('#myModalExamples', 'Advertencia', '¿Estás seguro de lo que deseas remover?', '');
        } else {
          openModal('#myModal', 'Advertencia', 'Debes seleccionar al menos <b>un</b> ejemplo', 'error');
        }
      }
      
      function confirmDeleteExamples(tree, treeBranch){
        stringObj = '';
        var nameVal = '';
        switch (getService) {
          case 'create_intent':
            tree = 'intent';
            treeBranch = 'examples';
            nameObj = "'text'";
            break;
          case 'edit_intent':
            tree = 'intent';
            treeBranch = 'new_examples';
            nameObj = "'text'";
            break;
          case 'create_entity':
            tree = 'entity';
            treeBranch = 'values';
            nameObj = "'value'";
            break;
          case 'edit_entity':
            tree = 'entity';
            treeBranch = 'new_values';
            nameObj = "'value'";
        }
        var getClass = document.getElementsByClassName('delete-examples-tmp');
        getNameIntent = getClass[0].parentElement.children[0].children[0].children[1].textContent.substring(1);
        for(var i = getClass[0].children.length-1; i > 0; i--){
          if(getClass[0].children[i].children[0].children[0].children[0].checked == true){
            getClass[0].children[i].remove();
          } else {
            stringObj += "{"+nameObj+": '"+getClass[0].children[i].children[0].children[1].textContent+"'},";
          }
        }
        stringObj = stringObj.substring(0, stringObj.length-1);
        if(stringObj == ""){
          stringObj = "{}";
        }
        var req = new XMLHttpRequest();
        var form = new FormData();
        form.append(tree, getNameIntent);
        form.append(treeBranch, stringObj);
        form.append("ws_id", sessionStorage.getItem('uws'));
        form.append("cv_user", sessionStorage.getItem('usr'));
        form.append("cv_pass", sessionStorage.getItem('usp'));
        req.open('POST', getPath+"mant/"+getService, false); 
        req.send(form);
        if (req.status == 200) {
          var response = JSON.parse(req.responseText);
          openModal('#myModal', 'Genial!', 'La intención se ha actualizado con éxito', 'success');
          getExamplesNum();
        } else {
          openModal('#myModal', 'Auch!', 'Tenemos un problema, favor intenta nuevamente', 'error');
        }
        getNameIntent = '';
        stringObj = '';
        document.getElementsByClassName('delete-examples-tmp')[0].classList.remove('delete-examples-tmp');
      }
      
      function clickButton(){
        confirmDeleteExamples(tree, treeBranch);
        getExamplesNum();
      }
      
      function addDialogOption(el){
        var $element = $(el);
        var isEdition = $element.hasClass('edit-button');
        var getModal        = isEdition ? document.getElementById('modal-dialog-edit') : document.getElementById('modal-dialog');
        var getUlDialog     = isEdition ? document.getElementById('list-dialogs-respond-edit') : document.getElementById('list-dialogs-respond');
        var getContRespond  = isEdition ? document.getElementById('responds-edit') : document.getElementById('responds');
        var getCondition    = isEdition ? document.getElementById('condition-edit') : document.getElementById('condition');
        var getTextRespond  = isEdition ? document.getElementById('text-respond-edit') : document.getElementById('text-respond');
        var addListDialog   = '<li>';
            addListDialog  += '<div class="respond">Entonces responde con <textarea>'+getTextRespond.value+'</textarea></div>';
            addListDialog  += '<a class="delete-dialog" href="#;" onclick="deleteDialogList(this)"><i class="fa fa-times-circle" aria-hidden="true"></i></a>';
            addListDialog  += '</li>';
            
        if(getTextRespond.value != '' && getCondition.value != ''){
          if(isEdition){
            $('#list-dialogs-respond-edit').prepend(addListDialog);
          }else{
            $('#list-dialogs-respond').prepend(addListDialog);
          }
          getContRespond.style.display = "block";
          el.parentElement.classList.remove('error');
        } else {
          el.parentElement.classList.add('error');
        }
        getTextRespond.value  = '';
      }
      
      function deleteDialogList(el){
        el.parentElement.remove();
      }
      
      function saveDialog(){
        var getDialogService  = getService;
        var getNameDialogQuotes = '';
        var getModal          = document.getElementById('modal-dialog');
        var getUlDialog       = document.getElementById('list-dialogs-respond');
        var getNameDialog     = document.getElementById('name-dialog');
        var getContRespond    = document.getElementById('responds');
        var getTextRespond    = document.getElementById('text-respond');
        var getListDialog     = '';
        var addDialog         = '';
        var getCondition      = document.getElementById('condition');
        var addFunction       = "openCustomModal(this, '#modal-dialog', false, 'edit_dialog'); editDialog(this)";
        var finAndDelete      = document.getElementsByClassName('delete-item-dialog');
        var arrayResponse     = '';
        var addValues         = '';
        if(getNameDialog.value != '' ){
          for(var i = 0; i < getUlDialog.children.length; i++){
            getListDialog += '<li>';
            getListDialog += '<div class="dialogs">'+getUlDialog.children[i].children[0].children[0].textContent+'</div>';
            getListDialog += '</li>';
            if(getUlDialog.children.length > 1) {
              arrayResponse += '"'+getUlDialog.children[i].children[0].children[0].textContent+'",';
            } else {
              arrayResponse = '"'+getUlDialog.children[i].children[0].children[0].textContent+'"';
            }
          }
          if(getUlDialog.children.length > 1) {
            addValues     = '{"values": ['+arrayResponse.substring(0, (arrayResponse.length - 1))+'],"selection_policy": "random"}';
            arrayResponse = addValues;
          }
          addDialog       = '<li data-dialognode="'+getDataNode+'">';
          addDialog      += '<div class="title" data-condition="'+getCondition.value+'">';
          addDialog      += '<span onclick="'+addFunction+'">';
          addDialog      += '<ul class="list-dialogs-hide">';
          addDialog      += getListDialog;
          addDialog      += '</ul>';
          addDialog      += '</span>';
          addDialog      += '<a href="#;" onclick="removeDialog(this)"><i class="fa fa-trash"></i></a>';
          addDialog      += '</div>';
          addDialog      += '</li>';
          if(finAndDelete.length > 0) {
            finAndDelete[0].remove();
          }
          $('#list-dialogs').prepend(addDialog);
          $('.delete-item-dialog').remove();
          if(getDialogService == 'edit_dialog'){
            getNameDialogQuotes = getDataNode;
          } else {
            getNameDialogQuotes = getNameDialog.value;
          }
          var getConditionVal = getCondition.value;
          var req = new XMLHttpRequest();
          var form = new FormData();
          form.append("title", getNameDialogQuotes);
          form.append("conditions", getConditionVal);
          form.append("texto", arrayResponse);
          form.append("ws_id", sessionStorage.getItem('uws'));
          form.append("cv_user", sessionStorage.getItem('usr'));
          form.append("cv_pass", sessionStorage.getItem('usp'));
          req.open('POST', getPath+"mant/"+getDialogService, false); 
          req.send(form);
          if (req.status == 200) {
            var response = JSON.parse(req.responseText);
            getNameDialog.value           = '';
            getTextRespond.value          = '';
            getUlDialog.innerHTML         = '';
            getContRespond.style.display  = 'none';
            var getOptionLength = getCondition.length;
            openModal('#myModal', 'Genial!', 'La respuesta se ha agregado con éxito', 'success');
            clearIntent('#name-dialog', '#modal-dialog');
            getDataNode = '';
          } else {
            openModal('#myModal', 'Lo sentimos', 'Tenemos un problema. Favor intenta nuevamente.', 'error');
          }
        } else {
          closeCustomModal('#modal-dialog');
          clearIntent('#name-dialog', '#modal-dialog');
          openModal('#myModal', 'Lo sentimos', 'Debes añadir un <b>nombre al diálogo</b>', 'error');
        }
      }
      var getDataNode = '';
      
      function editDialog(el){
        var $element = $(el),
            $getParentLi = $element.parent().parent(),
            getDataNode = $getParentLi.data('dialognode'),
            $getNameDialog = $('#name-dialog-edit'),
            getDataAttr = $element.parent().data('condition'),
            $getCondition = $('#condition-edit'),
            responses = $getParentLi.data('response');
      
        $getNameDialog.val(getDataNode);
        $getCondition.val(getDataAttr);
      
        var html = '';
        for(var i = 0; i < responses.length; i++){
          html  += '<li>';
          html  += '<div class="respond">Entonces responde con <textarea data-autoresize>'+responses[i]+'</textarea></div>';
          html  += '<a class="delete-dialog" href="#;" onclick="deleteDialogList(this)"><i class="fa fa-times-circle" aria-hidden="true"></i></a>';
          html  += '</li>';
        }
      
        $('#list-dialogs-respond-edit').html(html);
        $('#responds-edit').show();
      }
      
      function openModalTest() {
        $('#myModalAssistant').modal({
          backdrop: 'static',
          keyboard: false,
          show: true
        });
      
        var getSession = sessionStorage.getItem('user_id');
        $('#assistant-iframe').attr('src', getPath+'asistente/?id='+getSession);
      }
      
      function getCustomAssistant(){
        var getSession = sessionStorage.getItem('user_id');
        var getLogoAssistant = '';
        var getAvatarAssistant = '';
        var getColorHeader = '';
        var getColorBubble = '';
        var getColorButtons = '';
        var getTitleAssistant = '';
        if (getSession) {
          getLogoAssistant      = localStorage.getItem('logoAssistant');
          getAvatarAssistant    = localStorage.getItem('avatarAssistant');
          getColorHeader        = localStorage.getItem('colorHeader');
          getColorButtons       = localStorage.getItem('colorButtons');
          getTitleAssistant     = localStorage.getItem('titleAssistant');
          getSubTitleAssistant  = localStorage.getItem('subTitleAssistant');
          getLogoAssistant      = localStorage.getItem('logoAssistant');
          $('#myModalAssistant .header').css('background-color', getColorHeader);
          $('#myModalAssistant .header .close').css('background-color', getColorButtons);
          $('#myModalAssistant .header .titles div').text(getTitleAssistant);
          $('#myModalAssistant .header .titles span').text(getSubTitleAssistant);
          $('#myModalAssistant #header-logotipo').attr('src', getLogoAssistant); 
        }
      }
      
      function removeDialog(el){
        el.parentElement.parentElement.setAttribute('data-todelete', '1');
        openModal('#myModalChoiceDialog', 'Advertencia', '¿Estás seguro que deseas remover este diálogo?', '');
      }
      
      function confirmDeleteDialog(){
        getNameDialog = $('[data-todelete] h5').text();
        var req = new XMLHttpRequest();
        var form = new FormData();
        form.append("id_dialog", getNameDialog);
        form.append("ws_id", sessionStorage.getItem('uws'));
        form.append("cv_user", sessionStorage.getItem('usr'));
        form.append("cv_pass", sessionStorage.getItem('usp'));
        req.open('POST', getPath+"mant/delete_dialogs", false); 
        req.send(form);
        if (req.status == 200) {
          var response = JSON.parse(req.responseText);
          openModal('#myModal', 'Genial!', 'El diálogo se ha eliminado con éxito', 'success');
          $('[data-todelete]').remove();
        } else {
          openModal('#myModal', 'Auch!', 'Tenemos un problema, favor intenta nuevamente', 'error');
        }
      }
      
      function saveUrl() {
        var getSession = sessionStorage.getItem('user_id');
        var getUrlVal = $('#get-url').val();
        var getUrlForm = document.getElementById('form-url');
        if(getUrlForm.checkValidity() == true){
          var req = new XMLHttpRequest();
          var form = new FormData();
          form.append("id_cliente", getSession);
          form.append("url", getUrlVal);
          req.open('POST', getPath+"mant/addurl", false); 
          req.send(form);
          if (req.status == 200) {
            openModal('#myModal', 'Genial!', 'La URL se ha agregado con éxito', 'success');
            localStorage.setItem('urlAssistant', getUrlVal);
            $('#get-url').val(getUrlVal);
          }
        }
        event.preventDefault();
      }
      
      function getAllDialogs(){
        getService = 'edit_dialogs';
        var req = new XMLHttpRequest();
        var form = new FormData();
        form.append("ws_id", sessionStorage.getItem('uws'));
        form.append("cv_user", sessionStorage.getItem('usr'));
        form.append("cv_pass", sessionStorage.getItem('usp'));
        req.open('POST', getPath+"mant/list_dialogs", false); 
        req.send(form);
        if (req.status == 200) {
          var response = JSON.parse(req.responseText);
          for(var i = 0; i < response.data.dialog_nodes.length; i++){
            var listDialog        = '';
            var paramsFunction    = "this, '#modal-dialog', false, 'edit_dialog'";
            var listDialogRespond = '';
            if(response.data.dialog_nodes[i].conditions == 'false' || response.data.dialog_nodes[i].conditions == 'true' || response.data.dialog_nodes[i].conditions == '' || response.data.dialog_nodes[i].conditions == null){
            } else {
              var getNodeText = response.data.dialog_nodes[i].title;
              if (getNodeText == null){
                getNodeText = 'Sin nombre';
              }
              if(response.data.dialog_nodes[i].output.hasOwnProperty('text')) {
                if(response.data.dialog_nodes[i].output.text.hasOwnProperty('values')){
                  for (var j = 0; j < response.data.dialog_nodes[i].output.text.values.length; j++){ 
                    listDialogRespond += '<li><div class="dialogs"><pre><code>'+response.data.dialog_nodes[i].output.text.values[j]+'</code></pre></div></li>';
                  }
                } else {
                  listDialogRespond += '<li><div class="dialogs"><pre><code>'+response.data.dialog_nodes[i].output.text+'</code></pre></div></li>';
                }
                listDialog  = '<li data-dialognode="'+response.data.dialog_nodes[i].dialog_node+'">';
                listDialog += '  <div class="title" data-condition="'+response.data.dialog_nodes[i].conditions+'">';
                listDialog += '    <span onclick="openCustomModal('+paramsFunction+'); editDialog(this)">';
                listDialog += '      <h5>'+getNodeText+'</h5>';
                listDialog += '      <ul class="list-dialogs-hide">'+listDialogRespond+'</ul>';
                listDialog += '    </span>';
                listDialog += '    <a onclick="removeDialog(this)"><i class="fa fa-trash"></i></a>';
                listDialog += '  </div>';
                listDialog += '</li>';
              }
            }
            $('#list-dialogs').append(listDialog);
          }
          spinnerOut('#dialog');
          getExamplesNum();
        } else {
          openModal('#myModal', 'Lo sentimos', 'Tenemos un problema en el servidor<br><b>Error 500</b>', 'error');
        }
      }
      
      $(function(){
        $('#tabs a').click(function (e) {
          e.preventDefault()
          $(this).tab('show')
        });
        var getSession = sessionStorage.getItem('user_id');
        $('#get-url').val(localStorage.getItem('urlAssistant'));
      });
    </script>
  </body>
</html>